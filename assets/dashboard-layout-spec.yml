# SourceLens Dashboard Layout System
# Version: 1.0
# Last Updated: 2026-01-31

# =============================================================================
# VIEWPORT CONSTRAINTS
# =============================================================================
viewport:
  min_width: 800
  ideal_width: 1280
  max_width: null

  fold:
    primary: 750
    secondary: 900

# =============================================================================
# SPACING SYSTEM (using Tailwind v4 @theme)
# =============================================================================
spacing:
  scale: "4px base unit (theme.scale.4)"

  content:
    padding_x: "theme.spacing.xl (24px)"
    padding_y: "theme.spacing.xl (24px)"

  sections:
    gap_header_hero: "theme.spacing.xl (24px)"
    gap_hero_table: "theme.spacing.6xl (48px)"

  cards:
    gap: "theme.spacing.xl (24px)"
    padding: "theme.spacing.xl (24px)"

  table:
    cell_padding_x: "theme.spacing.md (16px)"
    cell_padding_y: "theme.spacing.sm (12px)"

# =============================================================================
# ZONES
# =============================================================================
zones:
  header:
    type: "sticky"
    height: 64
    background: "theme.color.white"
    border_bottom: "1px solid theme.color.slate.200"
    z_index: 10
    contains: ["repo_breadcrumb", "time_range_picker", "last_updated"]
    padding_x: "theme.spacing.xl (24px)"

    layout:
      direction: "row"
      justify: "space_between"
      align: "center"

  hero:
    type: "static"
    contains: ["metrics_grid"]
    above_fold: true

    layout:
      grid: "responsive"
      columns_narrow: 2
      columns_medium: 4
      gap: "theme.spacing.xl (24px)"

  content:
    type: "scrollable"
    contains: ["top_files_table"]
    above_fold: false

    layout:
      max_width: "none"
      padding_top: "theme.spacing.6xl (48px)"

# =============================================================================
# COMPONENT LAYOUTS
# =============================================================================
components:
  metric_card:
    dimensions:
      min_height: 128
      border_radius: "theme.radius.lg (12px)"

    internal_spacing:
      padding: "theme.spacing.xl (24px)"
      gap_icon_value: "theme.spacing.sm (12px)"
      gap_value_trend: "theme.spacing.xs (8px)"

    layout:
      direction: "column"
      align: "flex_start"

    elements:
      label:
        order: 1
        typography: "text-sm font-medium text-slate-600"
      value:
        order: 2
        typography: "text-metric-value"
      trend:
        order: 3
        typography: "text-trend"
        align: "flex_start"

  metrics_grid:
    layout:
      display: "grid"
      grid_template_columns:
        narrow: "repeat(2, 1fr)"
        medium: "repeat(4, 1fr)"
      gap: "theme.spacing.xl (24px)"

  top_files_table:
    layout:
      display: "table"
      width: "100%"
      border_collapse: "collapse"

    header:
      background: "theme.color.slate.50"
      border_bottom: "1px solid theme.color.slate.200"

    rows:
      border_bottom: "1px solid theme.color.slate.100"
      hover_background: "theme.color.sky.50"

    columns:
      - name: "file_path"
        width: "auto"
        text_align: "left"
        padding_left: "theme.spacing.md (16px)"
      - name: "ai_percentage"
        width: 120
        text_align: "right"
        padding_right: "theme.spacing.md (16px)"
      - name: "ai_lines"
        width: 100
        text_align: "right"
        padding_right: "theme.spacing.md (16px)"
      - name: "commit_count"
        width: 100
        text_align: "right"
        padding_right: "theme.spacing.md (16px)"

# =============================================================================
# RESPONSIVE BREAKPOINTS
# =============================================================================
responsive:
  narrow:
    max_width: 800
    metrics:
      columns: 2
      card_height: 128
    table:
      font_size: "theme.fontSize.sm (14px)"
      cell_padding: "theme.spacing.sm (12px)"

  medium:
    min_width: 800
    max_width: 1200
    metrics:
      columns: 4
      card_height: 128
    table:
      font_size: "theme.fontSize.base (16px)"
      cell_padding: "theme.spacing.md (16px)"

  wide:
    min_width: 1200
    metrics:
      columns: 4
      card_height: 144
    table:
      font_size: "theme.fontSize.base (16px)"
      cell_padding: "theme.spacing.md (16px)"
      max_width: 1400
      margin: "0 auto"

# =============================================================================
# VISUAL HIERARCHY
# =============================================================================
hierarchy:
  levels:
    primary:
      target: "metric_card value (especially ai_percentage)"
      treatment:
        font_size: "theme.fontSize.5xl (48px)"
        font_weight: 700
        color: "theme.color.slate.900"

    secondary:
      target: "other metric values"
      treatment:
        font_size: "theme.fontSize.3xl (30px)"
        font_weight: 600
        color: "theme.color.slate.700"

    tertiary:
      target: "metric labels, table text"
      treatment:
        font_size: "theme.fontSize.sm (14px)"
        font_weight: 500
        color: "theme.color.slate.600"

    quaternary:
      target: "trend indicators, timestamps"
      treatment:
        font_size: "theme.fontSize.xs (12px)"
        font_weight: 600
        color: "theme.color.slate.500"

  emphasis:
    metric_highlight:
      target: "ai_percentage_metric_card"
      treatment:
        border: "2px solid theme.color.sky.500"
        background: "gradient_to_br from-sky-50 to-transparent"
        shadow: "theme.shadow.md"
